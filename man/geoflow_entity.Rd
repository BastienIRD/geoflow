% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/geoflow_entity.R
\docType{class}
\name{geoflow_entity}
\alias{geoflow_entity}
\title{Geoflow entity class}
\format{
\code{\link{R6Class}} object.
}
\value{
Object of \code{\link{R6Class}} for modelling a entity object
}
\description{
This class models a entity object
}
\details{
geoflow_entity
}
\section{Methods}{

\describe{
 \item{\code{new()}}{
   This method is used to instantiate a geoflow_entity object
 }
 \item{\code{getAllowedKeyValuesFor(field)}}{
   Utility used internally by \pkg{geoflow} to check eligible key values for a given field.
 }
 \item{\code{setIdentifier(key, id)}}{
   Set an identifier given a key. Default key is "id", but others can be specified, eg "doi".
 }
 \item{\code{addDate(dateType, date)}}{
   Add a date object of class \code{Date} or \code{POSIXt}, with a date type, object of class \code{character}.
 }
 \item{\code{setLanguage(language)}}{
   Set the language used for the entity description (metadata). Default is "eng".
 }
 \item{\code{writeDataResource(obj,type)}}{
   Write sp file in data,zip and load data features.
 }
 \item{\code{setType(key, type)}}{
   Set the type of description. By default a generic type (key = "generic") is defined to "dataset", and
   will be used as default type for actions that perform metadata production / publication.
 }
 \item{\code{setTitle(key, title)}}{
   Set entity title. Allowed key values are 'title', 'alternative'
 }
 \item{\code{setDescription(key, description)}}{
   Set entity description. Allowed key values are 'abstract', 'purpose', 'info', 'project'
 }
 \item{\code{addSubject(subject)}}{
   Add a subject, object of class \code{geoflow_subject}.
 }
 \item{\code{addContact(contact)}}{
   Add a contact, object of class \code{geoflow_contact}
 }
 \item{\code{addRelation(relation)}}{
   Add a relation, object of class \code{geoflow_relation}
 }
 \item{\code{addRight(right)}}{
   Add a right, object of class \code{geoflow_right}
 }
 \item{\code{setSpatialExtent(wkt,bbox,data,crs)}}{
   Set spatial extent. Various ways can be used to set the spatial extent 1) with a WKT string,
   2) with a bbox, object of class \code{matrix}, or 3) specifying a data object (from \pkg{sf}).
   The \code{crs} (coordinate reference system) should be specified with the crs SRID (number).
   The spatial extent is not necessarily a bounding box but can be one or more geometries.
 }
 \item{\code{setSpatialBbox(wkt,bbox,data,crs)}}{
   Set spatial bbox. Various ways can be used to set the spatial extent 1) with a WKT string,
   2) with a bbox, object of class \code{matrix}, or 3) specifying a data object (from \pkg{sf}).
   The \code{crs} (coordinate reference system) should be specified with the crs SRID (number).
 }
 \item{\code{setSrid(srid)}}{
   Set the SRID
 }
 \item{\code{setTemporalExtent(str)}}{
   Set the temporal extent from a string representation (object of class \code{character}) of
   an ISO date / datetime (timestamp) or interval.
 }
 \item{\code{setProvenance(provenance)}}{
   Set the provenance as object of class \code{geoflow_provenance}.
 }
 \item{\code{setData(data)}}{
   Set the related data object of class \code{geoflow_data}
 }
 \item{\code{getEntityJobDirname()}}{
   Get the directory name that will be created for this entity. The name will generally be the same as the
   entity identifier. In case entity is identified with a DOI, '/' (slash) will be replaced by '_' (underscore) to 
   make sure directory is created.
 }
 \item{\code{getEntityJobDirPath(config, jobdir)}}{
   Returns the full path of the entity job directory. In the job directory, all entities subdirs will be created 
   within a 'entities' directory.
 }
 \item{\code{prepareEntityJobDir(config, jobdir)}}{
   Function called internally by \pkg{geoflow} that creates the entity directory and relevant sub-directories.
   The default sub-directories will include 'data' and 'metadata'. Other sub-directories may be created depnding 
   on the actions enabled in the workflow (and if their target directory is different from 'data'/'metadata').
 }
 \item{\code{copyDataToJobDir(config, jobdir)}}{
   This function will look at data object associated to the entity (previously set with \code{setData}),
   and will try to (download)/copy the data source to the geoflow job directory.
 }
 \item{\code{enrichWithFeatures(config)}}{
   This function will enrich the entity with data features, but trying to read the spatial data (eg shapefile,
   sql query - if a database input software is declared in the geoflow config). This method will overwrite 
   spatial metadata such as the bounding box and temporal extent. Note that the user spatial extent is not overwriten
   since it may content finer geometries than a bounding box
 }
 \item{\code{enrichWithRelations(config)}}{
   This function that will enrich the entity with relations. At now this is essentially related to adding 
   relations if a Geoserver (geosapi) publishing action is enabled in which case this function will add 1) 
   a thumbnail link built from OGC WMS service, 2) a WMS protocol relation, 3) WFS data protocols in common 
   formats (GML, GeoJSON, ESRI Shapefile).
 }
 \item{\code{enrichWithSubjects(config)}}{
   This function is expected to enrich entities with subjects. Related to data vocabularies / thesauri / ontologies.
   NOT YET IMPLEMENTED
 }
 \item{\code{enrichWithFormats(config)}}{
   This function is expected to enrich entities with formats. Related to data vocabularies / thesauri / ontologies.
   NOT YET IMPLEMENTED
 }
 \item{\code{getContacts(pretty)}}{
   Get the list of entity contacts. By default, a list of \code{geoflow_contact} will be returned. To
   return the list of entity contacts as \code{data.frame}, set \code{pretty = TRUE}.
 }
 \item{\code{getRelations(pretty)}}{
   Get the list of entity relations. By default, a list of \code{geoflow_relation} will be returned. To
   return the list of entity relations as \code{data.frame}, set \code{pretty = TRUE}.
 }
 \item{\code{getSubjects(pretty)}}{
   Get the list of entity subjects. By default, a list of \code{geoflow_subjects} will be returned. To
   return the list of entity subjects as \code{data.frame}, set \code{pretty = TRUE}.
 }
 \item{\code{setStatus(system, status)}}{
   Set a simple status either "draft" or "published". This method is required to deal with 
   systems that manage DOIs, such as Zenodo (with \pkg{zen4R}) or Dataverse (with \pkg{atom4R})
   publishing actions (Used internally by \pkg{geoflow}).
 }
}
}

\author{
Emmanuel Blondel <emmanuel.blondel1@gmail.com>
}
\keyword{entity}
